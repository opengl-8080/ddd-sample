## 出荷可能な在庫数の計算
- 在庫は東西の倉庫に保管されている
- 注文の納入先が近い方の倉庫から配送する
- 在庫の有無は、近いほうの倉庫に存在するかどうかで判断する
- 遠いほうの倉庫に在庫があっても、在庫はないものと判断する
- 近いかどうかの判定は、顧客の都道府県で判定する
  - xx 県は東倉庫 yy 県は西倉庫
- 仮押さえ、引き当て済みの在庫は、出荷可能な在庫数の計算から除外する

## 仮押さえ、引き当て
- 出荷可能な在庫について、入庫日が古いものから優先的に仮押さえ、引き当てを行う

## 納期計算
- 出荷日が当日以降になる場合は、要求納期を満たせると判断する
- 出荷日が当日より前になる場合は、要求納期を満たせないと判断する
- ただし、時刻が 15 時を過ぎている場合は、当日でも出荷不可となる
- 発注が必要な場合は、出荷日が入庫予定日より前の場合は要求納期を満たせないと判断する

### 出荷日の計算
- 輸送日数を計算して、要求納期から減算する
- 減算の結果が営業日ではない場合は、営業日になるまで順次減算していき、最初に営業日になった日を出荷日とする

### 輸送日数の計算
- 出荷倉庫と納入先の組み合わせによって、輸送日数はあらかじめ決まった値になる
- 納入先は顧客ごとに決まったものが登録されている
  - １つの顧客が複数の納入先を持つ場合もある
- 出荷倉庫は、納入先に近い方を選択する

